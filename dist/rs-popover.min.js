angular.module("rs.popover",[]).run(function(){"use strict";var o,e;o=document.createTextNode(".rs-popover-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0 }     .rs-popover-loading, .rs-popover-error { width: 200px; height: 140px }     .rs-popover-error { color: #c40022 }     .rs-popover-message { width: 100%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; }     .rs-popover-body { margin: 0; padding: 20px }"),e=document.createElement("style"),e.type="text/css",e.appendChild(o),document.head.appendChild(e)}),function(o){try{o=angular.module("rs.popover")}catch(e){o=angular.module("rs.popover",[])}o.run(["$templateCache",function(o){o.put("rsPopover.html",'<div class="rs-popover-wrapper" ng-hide="is(\'closed\')">\n  <div class="rs-popover-overlay" ng-click="close()"></div>\n  <div class="rs-popover">\n    <div class="rs-popover-arrow rs-popover-arrow-top-left"></div>\n    <div class="rs-popover-content">\n      <div class="rs-popover-error" ng-show="is(\'error\')">\n        <div class="rs-popover-message">{{ state.message }}</div>\n      </div>\n      <div class="rs-popover-loading" ng-show="is(\'loading\')">\n        <div class="rs-popover-message">{{ state.message }}</div>\n      </div>\n      <div class="rs-popover-body" ng-show="is(\'open\')" ng-transclude></div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("rs.popover").factory("Attachment",function(){"use strict";function o(o,e){this.element=o,this.target=e}var e=11,t=-33;return o.prototype.position=function(){var o,r;o=this.target.offset(),o.top+=this.target.outerHeight()+e,o.left+=this.target.outerWidth()/2+t,r=$(".rs-popover",this.element).first(),r.css({top:o.top,left:o.left})},o}),function(o){try{o=angular.module("rs.popover")}catch(e){o=angular.module("rs.popover",[])}o.run(["$templateCache",function(o){o.put("rsPopoverForm.html",'<div class="rs-popover-wrapper" ng-hide="is(\'closed\')">\n  <div class="rs-popover-overlay" ng-click="close()"></div>\n  <div class="rs-popover">\n    <div class="rs-popover-arrow rs-popover-arrow-top-left"></div>\n    <form class="rs-popover-content">\n      <div class="rs-popover-error" ng-show="is(\'error\')">\n        <div class="rs-popover-message">{{ state.message }}</div>\n      </div>\n      <div class="rs-popover-loading" ng-show="is(\'loading\')">\n        <div class="rs-popover-message">{{ state.message }}</div>\n      </div>\n      <div class="rs-popover-body" ng-show="is(\'open\') || is(\'saving\')" ng-transclude></div>\n      <div class="rs-popover-footer rs-btn-group" ng-show="is(\'open\') || is(\'saving\')">\n        <button class="rs-btn rs-btn-primary" ng-disabled="is(\'saving\')" ng-click="save()">{{ saveLabel || \'Save\' }}</button>\n        <button class="rs-btn rs-btn-link" ng-hide="is(\'saving\')" ng-click="close()">{{ cancelLabel || \'Cancel\' }}</button>\n      </div>\n    </form>\n  </div>\n</div>\n')}])}(),angular.module("rs.popover").controller("PopoverController",function(o,e,t,r,s){"use strict";function n(){var e;e=new s,e.on("open",o.onOpen||angular.noop),e.on("save",o.onSave||angular.noop),e.on("close",n),o.state=e}this.id=o.id,t.register(o.id,o),n(),o.$on("$destroy",function(){t.deregister(o.id)}),o.is=function(e){return o.state.is(e)},o.open=function(t){o.state.open(),r.attach(e,t)},o.close=function(){o.state.close()},o.toggle=function(e){o.state.is("closed")?o.open(e):o.close()},o.save=function(){o.state.save()}}),angular.module("rs.popover").factory("PopoverState",function(o){"use strict";function e(){this.state=e.CLOSED,this.subscriptions={open:[],load:[],error:[],save:[],close:[]}}return e.prototype.is=function(o){return this.state===o},e.prototype.on=function(o,e){this.subscriptions[o].push(e)},e.prototype.fire=function(e){var t=[];return angular.forEach(this.subscriptions[e],function(o){t.push(o())}),o.all(t)},e.prototype.open=function(){this.message="Loadingâ€¦",this.state=e.LOADING,this.fire("open").then(angular.bind(this,this.load)).catch(angular.bind(this,this.error))},e.prototype.load=function(){this.state=e.OPEN,this.fire("load")},e.prototype.error=function(o){this.message=o,this.state=e.ERROR,this.fire("error")},e.prototype.save=function(){this.state=e.SAVING,this.fire("save").then(angular.bind(this,this.close)).catch(angular.bind(this,this.load))},e.prototype.close=function(){this.state=e.CLOSED,this.fire("close")},e.CLOSED="closed",e.LOADING="loading",e.OPEN="open",e.ERROR="error",e.SAVING="saving",e}),angular.module("rs.popover").factory("registry",function(){"use strict";function o(){this.popovers={}}return o.prototype.register=function(o,e){if(!o)throw"Popover ID must not be empty!";if(o in this.popovers)throw'Popover ID "'+o+'" has already been registered!';this.popovers[o]=e},o.prototype.deregister=function(o){if(!(o in this.popovers))throw'Popover ID "'+o+'" has not been registered!';delete this.popovers[o]},o.prototype.popover=function(o){if(o in this.popovers)return this.popovers[o];throw'Popover ID "'+o+'" has not been registered!'},new o}),angular.module("rs.popover").directive("rsPopover",function(){"use strict";return{scope:{id:"@",onOpen:"="},restrict:"EA",controller:"PopoverController",transclude:!0,templateUrl:"rsPopover.html"}}),angular.module("rs.popover").directive("rsPopoverForm",function(o){"use strict";return{scope:{id:"@",saveLabel:"@",cancelLabel:"@",onOpen:"=",onSave:"="},restrict:"EA",controller:"PopoverController",transclude:!0,templateUrl:"rsPopoverForm.html",link:function(e,t){e.state.on("load",function(){o(function(){var o;o=t.find(":input").first(),o.focus()},0,!1)})}}}),angular.module("rs.popover").directive("rsPopoverTrigger",function(o){"use strict";return{restrict:"A",require:"?^rsPopover",link:function(e,t,r,s){var n;if(r.rsPopoverTrigger)n=r.rsPopoverTrigger;else{if(!s)throw"No popover ID was specified for popover trigger!";n=s.id}t.on("click",function(r){r.preventDefault(),o.popover(n).toggle(t),e.$apply()})}}}),angular.module("rs.popover").factory("tether",function(o,e){"use strict";function t(){this.attachments=[],angular.element(o).on("resize scroll",angular.bind(this,this.reposition))}return t.prototype.attach=function(o,t){var r;return r=new e(o,t),r.position(),this.attachments.push(r),r},t.prototype.reposition=function(){angular.forEach(this.attachments,function(o){o.position()})},t.prototype.detach=function(o){var e;angular.forEach(this.attachments,function(t,r){t.element===o&&(e=r)}),this.attachments.splice(e,1)},new t});
//# sourceMappingURL=rs-popover.min.js.map